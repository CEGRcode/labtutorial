<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<title>Planemo - PughLab-guides</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<meta name="generator" content="mkdocs-1.1.2, mkdocs-gitbook-1.0.7">

<link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta rel="next" href="" />
<link href="../css/style.min.css" rel="stylesheet"> 
</head>

<body>
<div class="book">
<div class="book-summary">

<nav role="navigation">
<ul class="summary">
<li>
<a href=".." target="_blank" class="custom-link">PughLab-guides</a>
</li>
<li class="divider"></li>
<li class="chapter" data-path="">
<a href="..">Home</a>
<li class="chapter" data-path="galaxy/">
<a href="../galaxy/">Galaxy</a>
<li class="chapter active" data-path="planemo/">
<a href="./">Planemo</a>
<li class="chapter" data-path="CAC/">
<a href="../CAC/">CAC</a>
<li class="chapter" data-path="Frontend%20Deployment/">
<a href="../Frontend%20Deployment/">Frontend Deployment</a>
<li class="chapter" data-path="Backend%20Deployment/">
<a href="../Backend%20Deployment/">Backend Deployment</a>
<li class="chapter" data-path="pegr/">
<a href="../pegr/">PEGR</a>
<li class="chapter" data-path="labwebsite/">
<a href="../labwebsite/">Lab Websites</a>
<li class="chapter" data-path="FAQ/">
<a href="../FAQ/">FAQ</a>
<li class="divider"></li>



<li><a href="http://www.mkdocs.org">
Published with MkDocs
</a></li>

<li><a href="https://github.com/GitbookIO/theme-default">
Theme by GitBook
</a></li>
</ul>

</nav>

</div> <!-- end of book-summary -->

<div class="book-body">
<div class="body-inner">
<div class="book-header" role="navigation">

<!-- Title -->
<h1>
<i class="fa fa-circle-o-notch fa-spin"></i>
<a href="." ></a>
</h1>

</div> <!-- end of book-header -->

<div class="page-wrapper" tabindex="-1" role="main">
<div class="page-inner">

<section class="normal markdown-section">



<h1 id="guidelines">Guidelines<a class="headerlink" href="#guidelines" title="Permanent link">#</a></h1>
<p><em><strong>Best Practices &amp; Standards</strong></em></p>
<ul>
<li><a href="https://galaxy-iuc-standards.readthedocs.io/en/latest/best_practices.html">Creating Galaxy tools</a></li>
<li><a href="https://galaxy-iuc-standards.readthedocs.io/en/latest/best_practices/tool_xml.html">Writing tool wrappers</a></li>
</ul>
<p><em><strong>Tool Development</strong></em></p>
<ul>
<li><a href="https://docs.galaxyproject.org/en/latest/dev/schema.html">Galaxy XML Tags </a></li>
<li><a href="https://planemo.readthedocs.io/en/latest/readme.html">What is Planemo ?</a></li>
<li><a href="https://planemo.readthedocs.io/en/latest/writing_standalone.html">Building Galaxy Tools Using Planemo</a></li>
<li><a href="https://galaxyproject.github.io/training-material/topics/dev/">Galaxy Development Training Slides</a></li>
</ul>
<p><em><strong>Publishing to GALAXY Toolshed</strong></em></p>
<ul>
<li><a href="https://galaxy-iuc-standards.readthedocs.io/en/latest/best_practices/integration_checklist.html#testing-your-tool">ToolShed Readiness Checklist</a></li>
<li><a href="https://planemo.readthedocs.io/en/latest/publishing.html">Publishing tools from Planemo</a></li>
</ul>
<p><em>Make sure you refer to the above links while writing tools and their xml wrappers. It will be easy to submit tools to <code>Intergalactic Utilities Commission</code><a href="https://github.com/galaxyproject/tools-iuc">IUC</a>, if you followed the above standards. <a href="https://www.webfx.com/tools/emoji-cheat-sheet/">emoji cheatsheet</a> reference used in this documentation.</em></p>
<h1 id="install">Install<a class="headerlink" href="#install" title="Permanent link">#</a></h1>
<ul>
<li>Follow the instructions in the <a href="https://planemo.readthedocs.io/en/latest/installation.html">documentation</a> to install on your machine.</li>
</ul>
<h2 id="using-planemo">Using Planemo<a class="headerlink" href="#using-planemo" title="Permanent link">#</a></h2>
<ul>
<li>
<p>Three step process that every tool need to go through :</p>
<ul>
<li><code>planemo lint &lt;your_tool.xml&gt;</code></li>
<li><code>planemo test  &lt;your_tool.xml&gt; --galaxy_root=[path to your local galaxy instance] --test_data [path to the directory containing your testdata]</code></li>
<li><code>planemo serve &lt;your_tool.xml&gt; --galaxy_root=[path to your local galaxy instance]</code></li>
</ul>
</li>
<li>
<p>If you don't want to use (or) don't have your local galaxy for testing, <code>Planemo</code> will download &amp; spin-up a standalone galaxy to test your wrappers. make sure you installed <code>Planemo</code> within a python environment as instructed in <a href="https://planemo.readthedocs.io/en/latest/readme.html">installation</a> documentation for <code>Planemo</code>.</p>
</li>
<li>
<p>Each of the above commands supports <code>--help</code> option. use it for the entire list of supported options.</p>
</li>
<li>
<p>If <code>--no-xsd</code> option is used for <code>linting</code> the tool wrapper,<code>Planemo</code> finds errors and warnings within your wrappers by ignoring the validation of correct XML schema. (read the documentation for more info, you might generally want to avoid using this option)</p>
</li>
<li>
<p><code>planemo test</code> expects test data to be available in a folder named as <code>test-data</code>. you need to write tool specific tests and also provide test data for testing the wrapper, before running the command.</p>
</li>
</ul>
<h2 id="writing-functional-tests-for-tool-wrappers">Writing functional tests for Tool Wrappers<a class="headerlink" href="#writing-functional-tests-for-tool-wrappers" title="Permanent link">#</a></h2>
<p><strong>References to writing proper tests</strong></p>
<ul>
<li><a href="https://galaxyproject.org/admin/tools/writing-tests/">Basic Tests</a></li>
<li><a href="https://docs.galaxyproject.org/en/latest/dev/schema.html#tool-tests">Using <code>&lt;tests&gt;&lt;/tests&gt;</code> XML tag</a></li>
<li><a href="https://planemo.readthedocs.io/en/latest/writing_advanced.html#test-driven-development">Advanced Tests</a></li>
<li>Using <a href="http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html"><code>reStructuredText</code></a> to format <code>help</code> section within the tool wrapper - <a href="https://docs.galaxyproject.org/en/latest/dev/schema.html#tool-help">documentation</a></li>
<li>
<p>Use the online <a href="http://rst.ninjs.org/">restructedText editor</a> to write and format your content under <code>&lt;help&gt; &lt;/help&gt;</code> section for the wrapper.</p>
</li>
<li>
<p>planemo creates a <code>tool_test_output.html</code> file to showing the errors and debugging information if tools fail otherwise, shows the test output.</p>
</li>
<li>
<p><code>planemo serve</code> lets you visualize the tools wrapper in GALAXY instance once it passes the tests.</p>
</li>
</ul>
<p><strong>Flake8 &amp; pycodestyle for python tools</strong></p>
<ul>
<li>Python scripts must conform to <code>pep8</code> standards and also pass <code>flake8</code>, so that your tools pass the <code>travisCI</code> tests done by <code>IUC</code>.</li>
<li><code>pycodestyle</code> is the utility to test your python scripts for pep8 coding standards</li>
</ul>
<pre><code>pycodestyle --show-pep8 --show-source --ignore=E501 &lt;your_tool&gt;.py
</code></pre>

<ul>
<li>
<p>For the case of submitting and testing the pep8 conformations, the IUC ignores some of the minor errors , such as E501, E201, E202. Refer the below issue on IUC, on what was actually proposed. <a href="https://github.com/galaxyproject/tools-iuc/issues/467">tools-iuc/issue/467</a></p>
</li>
<li>
<p>I would install <em>flake8</em> and <em>flake8-import-order</em> to do a simple test to remove any errors that pop up after pep8. Below is the command to test the flake8 on the scripts within the current directory.</p>
</li>
</ul>
<pre><code># installing flake8 and flake8-import-order
pip install flake8 flake8-import-order

# Testing for flake8 errors
flake8 --ignore=E201,E202,E501 --count .
</code></pre>

<ul>
<li>flake8 documentation : <a href="http://flake8.pycqa.org/en/latest/">here</a></li>
<li>flake8-import-order : <a href="https://github.com/PyCQA/flake8-import-order">here</a></li>
<li>pycodestyle documentation: <a href="https://pycodestyle.readthedocs.io/en/latest/">here</a></li>
</ul>


</section>

</div> <!-- end of page-inner -->
</div> <!-- end of page-wrapper -->

</div> <!-- end of body-inner -->

</div> <!-- end of book-body -->
<script src="../js/main.js"></script>
<script src="../js/gitbook.min.js"></script>
<script src="../js/theme.min.js"></script>
</body>
</html>